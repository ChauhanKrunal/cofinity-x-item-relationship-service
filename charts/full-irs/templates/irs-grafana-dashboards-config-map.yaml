{{ if .Values.install.grafana }}

apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Values.grafana.configMap.name | toString | quote }}
  namespace: {{ .Release.Namespace | default "default" | quote }}
  labels:
    grafana_dashboard: "1"
data:
  vault.json: |
{{ .Files.Get "grafana-dashboards/hashicorp-vault-dashboard.json" | indent 4 }}
  irs_api.json: |
{{ .Files.Get "grafana-dashboards/irs-api-dashboard.json" | indent 4 }}
  irs_jobs.json: |
{{ .Files.Get "grafana-dashboards/irs-jobs-dashboard.json" | indent 4 }}
  irs_outbound_requests.json: |
{{ .Files.Get "grafana-dashboards/irs-outbound-requests-dashboard.json" | indent 4 }}
  minio.json: |
{{ .Files.Get "grafana-dashboards/minio-dashboard.json" | indent 4 }}
  resource_monitoring.json: |
{{ .Files.Get "grafana-dashboards/resource-monitoring-dashboard.json" | indent 4 }}

{{ end }}